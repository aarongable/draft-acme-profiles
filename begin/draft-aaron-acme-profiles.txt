



Automated Certificate Management Environment                    A. Gable
Internet-Draft                          Internet Security Research Group
Intended status: Informational                            24 August 2024
Expires: 25 February 2025


 Automated Certificate Management Environment (ACME) Profiles Extension
                    draft-aaron-acme-profiles-latest

Abstract

   TODO Abstract

About This Document

   This note is to be removed before publishing as an RFC.

   The latest revision of this draft can be found at
   https://aarongable.github.io/draft-acme-profiles/draft-aaron-acme-
   profiles.html.  Status information for this document may be found at
   https://datatracker.ietf.org/doc/draft-aaron-acme-profiles/.

   Discussion of this document takes place on the Automated Certificate
   Management Environment Working Group mailing list
   (mailto:acme@ietf.org), which is archived at
   https://mailarchive.ietf.org/arch/browse/acme/.  Subscribe at
   https://www.ietf.org/mailman/listinfo/acme/.

   Source for this draft and an issue tracker can be found at
   https://github.com/aarongable/draft-acme-profiles.

Current Implementations

   This note is to be removed before publishing as an RFC.

   Let's Encrypt's Boulder (https://github.com/letsencrypt/boulder) ACME
   Server software fully implements this draft.  Let's Encrypt has not
   yet configured profiles to be advertised in their Production
   (https://acme-v02.api.letsencrypt.org/directory) and Staging
   (https://acme-staging-v02.api.letsencrypt.org/directory)
   environments.  The Pebble (https://githbu.com/letsencrypt/pebble)
   ACME Server testbed also implements this draft.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 25 February 2025.

Copyright Notice

   Copyright (c) 2024 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Revised BSD License text as
   described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Revised BSD License.

Table of Contents

   1.  Introduction
   2.  Conventions and Definitions
   3.  Extensions to the Directory Resource
   4.  Extensions to the Order Resource
   5.  Security Considerations
   6.  IANA Considerations
     6.1.  ACME Directory Metadata Fields
     6.2.  ACME Order Object Fields
   7.  Normative References
   Acknowledgments
   Author's Address

1.  Introduction

   TODO Introduction

2.  Conventions and Definitions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  Extensions to the Directory Resource

   An ACME Server which wishes to allow Clients to select profiles MUST
   include a new field, profiles, in the meta section of its Directory
   object.  This field is itself a mapping of profile names to human-
   readable descriptions of those profiles.

   TODO:

   *  Descriptions may be prose or links to documentation pages

   *  Example

4.  Extensions to the Order Resource

   In order to convey information about the profile associated with an
   Order, a new field is added to the Order object:

   profile (string, optional): A string uniquely identifying the profile
   which will be used to affect issuance of the certificate requested by
   this Order.

   TODO:

   *  Clients must only request profiles which are advertised in the
      directory

   *  Servers must reject any request which specifies an unrecognized
      profile

   *  Servers may assign a profile to requests which do not specify one

   *  Request and response examples

5.  Security Considerations

   The extensions to the ACME protocol described in this document build
   upon the Security Considerations and threat model defined in
   Section 10.1 of [RFC8555].

   TODO:

   *  ACME Servers must ensure that all profiles they offer abide by the
      requirements which govern their PKI, such as their CPS

   *  Only allowing a single profile to be requested, i.e. not offering
      a a buffet of options that can be mixed and matched, greatly
      simplifies this compliance

   *  Transporting profile information via ACME rather than via CSR
      reduces incidents

6.  IANA Considerations

6.1.  ACME Directory Metadata Fields

   IANA will add the following entry to the "ACME Directory Metadata
   Fields" registry within the "Automated Certificate Management
   Environment (ACME) Protocol" registry group at
   https://www.iana.org/assignments/acme
   (https://www.iana.org/assignments/acme):

                +============+============+===============+
                | Field Name | Field Type | Reference     |
                +============+============+===============+
                | profiles   | object     | This document |
                +------------+------------+---------------+

                                  Table 1

6.2.  ACME Order Object Fields

   IANA will add the following entry to the "ACME Order Object Fields"
   registry within the "Automated Certificate Management Environment
   (ACME) Protocol" registry group at https://www.iana.org/assignments/
   acme (https://www.iana.org/assignments/acme):

        +============+============+==============+===============+
        | Field Name | Field Type | Configurable | Reference     |
        +============+============+==============+===============+
        | profile    | string     | true         | This document |
        +------------+------------+--------------+---------------+

                                 Table 2

7.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/rfc/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/rfc/rfc8174>.

   [RFC8555]  Barnes, R., Hoffman-Andrews, J., McCarney, D., and J.
              Kasten, "Automatic Certificate Management Environment
              (ACME)", RFC 8555, DOI 10.17487/RFC8555, March 2019,
              <https://www.rfc-editor.org/rfc/rfc8555>.

Acknowledgments

   My thanks to Phil Porada for spearheading the implementation of this
   protocol in the Boulder software.  Thanks also to Jacob Hoffman-
   Andrews, Samantha Frank, James Kasten, and Jason Baker for
   discussions and brainstorming on what this protocol should look like.

Author's Address

   Aaron Gable
   Internet Security Research Group
   Email: aaron@letsencrypt.org
